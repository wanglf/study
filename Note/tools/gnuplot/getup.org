#+AUTHOR: wanglifeng
#+TITLE: Getting up time table and plot
* Year2016
** Table Y2016Q3
#+tblname: y2016q3
|------+------------+------------+---------------+------------+------------+---------------+-----------+-----------+--------------|
| Date | Sept-Sleep | Sept-Getup | Sept-Duration | July-Sleep | July-Getup | July-Duration | Aug-Sleep | Aug-Getup | Aug-Duration |
|------+------------+------------+---------------+------------+------------+---------------+-----------+-----------+--------------|
|    1 |      23:15 |       6:10 |      06:55:00 |            |            |               |           |           |              |
|------+------------+------------+---------------+------------+------------+---------------+-----------+-----------+--------------|
|    2 |      23:15 |       6:20 |      07:05:00 |            |            |               |           |           |              |
|------+------------+------------+---------------+------------+------------+---------------+-----------+-----------+--------------|
|    3 |      23:15 |       6:30 |      07:15:00 |            |            |               |           |           |              |
|------+------------+------------+---------------+------------+------------+---------------+-----------+-----------+--------------|
|    4 |      23:30 |       5:45 |      06:15:00 |            |            |               |           |           |              |
|------+------------+------------+---------------+------------+------------+---------------+-----------+-----------+--------------|
|    5 |      23:10 |       6:00 |      06:50:00 |            |            |               |           |           |              |
|------+------------+------------+---------------+------------+------------+---------------+-----------+-----------+--------------|
|    6 |      23:25 |       6:15 |      06:50:00 |            |            |               |           |           |              |
|------+------------+------------+---------------+------------+------------+---------------+-----------+-----------+--------------|
|    7 |      23:10 |       6:10 |      07:00:00 |            |            |               |           |           |              |
|------+------------+------------+---------------+------------+------------+---------------+-----------+-----------+--------------|
|    8 |      23:00 |       6:01 |      07:01:00 |            |            |               |           |           |              |
|------+------------+------------+---------------+------------+------------+---------------+-----------+-----------+--------------|
|    9 |      23:15 |       6:32 |      07:17:00 |            |            |               |           |           |              |
|------+------------+------------+---------------+------------+------------+---------------+-----------+-----------+--------------|
|   10 |      25:30 |       7:35 |      06:05:00 |            |            |               |           |           |              |
|------+------------+------------+---------------+------------+------------+---------------+-----------+-----------+--------------|
|   11 |      23:38 |       6:58 |      07:20:00 |            |            |               |           |           |              |
|------+------------+------------+---------------+------------+------------+---------------+-----------+-----------+--------------|
|   12 |            |            |               |            |            |               |           |           |              |
|------+------------+------------+---------------+------------+------------+---------------+-----------+-----------+--------------|
|   13 |            |            |               |            |            |               |           |           |              |
|------+------------+------------+---------------+------------+------------+---------------+-----------+-----------+--------------|
|   14 |            |            |               |            |            |               |           |           |              |
|------+------------+------------+---------------+------------+------------+---------------+-----------+-----------+--------------|
|   15 |            |            |               |            |            |               |           |           |              |
|------+------------+------------+---------------+------------+------------+---------------+-----------+-----------+--------------|
|   16 |            |            |               |            |            |               |           |           |              |
|------+------------+------------+---------------+------------+------------+---------------+-----------+-----------+--------------|
|   17 |            |            |               |            |            |               |           |           |              |
|------+------------+------------+---------------+------------+------------+---------------+-----------+-----------+--------------|
|   18 |            |            |               |            |            |               |           |           |              |
|------+------------+------------+---------------+------------+------------+---------------+-----------+-----------+--------------|
|   19 |            |            |               |            |            |               |           |           |              |
|------+------------+------------+---------------+------------+------------+---------------+-----------+-----------+--------------|
|   20 |            |            |               |            |            |               |           |           |              |
|------+------------+------------+---------------+------------+------------+---------------+-----------+-----------+--------------|
|   21 |            |            |               |            |            |               |           |           |              |
|------+------------+------------+---------------+------------+------------+---------------+-----------+-----------+--------------|
|   22 |            |            |               |            |            |               |           |           |              |
|------+------------+------------+---------------+------------+------------+---------------+-----------+-----------+--------------|
|   23 |            |            |               |            |            |               |           |           |              |
|------+------------+------------+---------------+------------+------------+---------------+-----------+-----------+--------------|
|   24 |            |            |               |            |            |               |           |           |              |
|------+------------+------------+---------------+------------+------------+---------------+-----------+-----------+--------------|
|   25 |            |            |               |            |            |               |           |           |              |
|------+------------+------------+---------------+------------+------------+---------------+-----------+-----------+--------------|
|   26 |            |            |               |            |            |               |           |           |              |
|------+------------+------------+---------------+------------+------------+---------------+-----------+-----------+--------------|
|   27 |            |            |               |            |            |               |           |           |              |
|------+------------+------------+---------------+------------+------------+---------------+-----------+-----------+--------------|
|   28 |            |            |               |            |            |               |           |           |              |
|------+------------+------------+---------------+------------+------------+---------------+-----------+-----------+--------------|
|   29 |            |            |               |            |            |               |           |           |              |
|------+------------+------------+---------------+------------+------------+---------------+-----------+-----------+--------------|
|   30 |            |            |               |            |            |               |           |           |              |
|------+------------+------------+---------------+------------+------------+---------------+-----------+-----------+--------------|
|   31 |            |            |               |            |            |               |           |           |              |
|------+------------+------------+---------------+------------+------------+---------------+-----------+-----------+--------------|
#+TBLFM: $4=($3-$2)%(24*60*60);T
** Plot Y2016Q3
#+BEGIN_SRC gnuplot :var y2016q3=y2016q3  :exports both :file img/y2016q3.png
reset
set title "Year 2016 Q3"
set key autotitle columnhead rmargin top right vertical
set xlabel "Date"
set ydata time
set timefmt "%H:%M"
set format y "%H:%M"
set xlabel "Date"
set xrange[01:31]
set ylabel "Hour:Min"
LW=2
set style line 1  lw LW
set style line 2  lw LW
set style line 3  lw LW
set style line 4  lw LW
set style line 5  lw LW
set style line 6  lw LW
set style line 7  lw LW
set style line 8  lw LW
set style line 9  lw LW
show style line
plot y2016q3 using 1:2 w lp ls 1,\
     y2016q3 using 1:3 w lp ls 2,\
     y2016q3 using 1:4 w lp ls 3,\
     y2016q3 using 1:5 w lp ls 4,\
     y2016q3 using 1:6 w lp ls 5,\
     y2016q3 using 1:7 w lp ls 6,\
     y2016q3 using 1:8 w lp ls 7,\
     y2016q3 using 1:9 w lp ls 8,\
     y2016q3 using 1:10 w lp ls 9
#+END_SRC

#+RESULTS:
[[file:img/y2016q3.png]]
